{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\bober\\\\OneDrive\\\\Pulpit\\\\ZTI_Projekt\\\\frontend\\\\klient\\\\src\\\\components\\\\ChatRoom.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport SockJS from 'sockjs-client';\nimport Stomp from 'stompjs';\nimport '../style/easyStyle.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction ChatRoom(props) {\n  _s();\n  const [friends, setFriends] = useState([]);\n  const [rooms, setRooms] = useState([]);\n  const [currentRoom, setCurrentRoom] = useState(null);\n  const [content, setContent] = useState('');\n  const [email, setEmail] = useState('');\n  const [message, setMessage] = useState('');\n  const [posts, setPosts] = useState([]);\n  const [ChatRoomName, setChatRoomName] = useState('');\n  const [checkedItems, setCheckedItems] = useState([]);\n  const [stompClient, setStompClient] = useState(null);\n  const [userData, setUserData] = useState({\n    username: props.username,\n    nick: props.nick,\n    connected: false\n  });\n  useEffect(() => {\n    axios.get('http://localhost:8080/GetFriends/'.concat(userData.username)).then(response => {\n      setFriends(response.data);\n    }).catch(error => {\n      console.log(error);\n    });\n  }, []);\n  function handleEmailChange(event) {\n    setEmail(event.target.value);\n  }\n  const getRooms = async () => {\n    try {\n      const response = await axios.get('http://localhost:8080/getChatRoomsByUserId/'.concat(userData.username));\n      setRooms(response.data);\n      console.log(response.data);\n    } catch (error) {\n      console.error(error);\n    }\n  };\n  useEffect(() => {\n    getFriends();\n    getRooms();\n  }, []);\n\n  /**\r\n   * znajomi\r\n   */\n  const getFriends = async () => {\n    try {\n      const response = await axios.get('http://localhost:8080/GetFriends/'.concat(userData.username));\n      setFriends(response.data);\n    } catch (error) {\n      console.error(error);\n    }\n  };\n  const addFriend = async () => {\n    try {\n      setContent('dodajZnajomego');\n    } catch (error) {\n      console.error(error);\n    }\n  };\n  function handleAddFriend(event) {\n    const user1_id_user_id = userData.username;\n    const user2_id_user_id = email;\n    event.preventDefault();\n    axios.post('http://localhost:8080/AddFriend', user1_id_user_id + \";\" + user2_id_user_id, {\n      headers: {\n        'Content-Type': 'text/plain'\n      }\n    }).then(response => {\n      console.log(response.data);\n      setEmail('');\n      console.log(response.data);\n      setFriends(response.data);\n      alert(\"dodano pomyślnie\");\n    }).catch(error => {\n      alert(\"nie udało się dodać znajomego\");\n      console.log(error);\n    });\n  }\n  const handleChangeZnajomiCheckboxlist = event => {\n    const isChecked = event.target.checked;\n    const itemId = event.target.value;\n    if (isChecked) {\n      setCheckedItems(prevItems => [...prevItems, itemId]);\n    } else {\n      setCheckedItems(prevItems => prevItems.filter(id => id !== itemId));\n    }\n  };\n  const setChatRoomName2 = event => {\n    const value = event.target.value;\n    setChatRoomName(value);\n  };\n  function deleteFriend(user_id) {\n    const user1_id_user_id = userData.username;\n    const user2_id_user_id = user_id;\n    axios.delete('/DeleteFriend', user1_id_user_id + \";\" + user2_id_user_id, {\n      headers: {\n        'Content-Type': 'text/plain'\n      }\n    }).then(response => {\n      setFriends(response);\n    }).catch(error => {\n      // Obsługa błędu\n      console.error('Wystąpił błąd podczas usuwania znajomego:', error);\n    });\n  }\n\n  /**\r\n   * \r\n   * CHatroomy\r\n   * @param {*} event \r\n   */\n  const handleAddChatroom = async event => {\n    event.preventDefault();\n    console.log({\n      nazwa: ChatRoomName,\n      user: userData.username,\n      id_relacji: checkedItems\n    });\n    try {\n      const response = await axios.post('http://localhost:8080/AddChatroom', {\n        nazwa: ChatRoomName,\n        user: userData.username,\n        id_relacji: checkedItems\n      });\n      console.log('Response:', response.data);\n      // setChatRoomName(response.data);\n      alert(\"dodano pomyślnie\");\n      getRooms();\n    } catch (error) {\n      console.error('Error:', error);\n      alert(\"wystąpił nieoczekiwany błąd\");\n    }\n  };\n  const addRoom = async () => {\n    setContent('dodajChatroom');\n  };\n  /**\r\n   * POSTY\r\n   * \r\n   */\n\n  useEffect(() => {\n    const socket = new SockJS('http://localhost:8080/ws');\n    const client = Stomp.over(socket);\n    client.connect({}, () => {\n      setStompClient(client);\n    });\n    return () => {\n      if (stompClient) {\n        stompClient.disconnect();\n      }\n    };\n  }, []);\n  useEffect(() => {\n    if (!stompClient) return;\n    const subscription = stompClient.subscribe('/topic/posts', message => {\n      const receivedPost = JSON.parse(message.body);\n      setPosts(prevPosts => [...prevPosts, receivedPost]);\n    });\n    return () => {\n      subscription.unsubscribe();\n    };\n  }, [stompClient]);\n  const fetchPosts = async chatroom_id_1 => {\n    try {\n      const response = await axios.get('http://localhost:8080/getPostsByChatroomID/'.concat(chatroom_id_1));\n      setPosts(response.data);\n    } catch (error) {\n      console.error('Error fetching posts:', error);\n    }\n  };\n  useEffect(() => {\n    // Fetch initial posts from the backend\n    const fetchPosts = async () => {\n      try {\n        const response = await axios.get('http://localhost:8080/getPostsByChatroomID/'.concat(currentRoom.chatroom_id));\n        setPosts(response.data);\n      } catch (error) {\n        console.error('Error fetching posts:', error);\n      }\n    };\n    fetchPosts();\n  }, []);\n  const addPost = () => {\n    const post = {\n      message: message,\n      date: new Date(),\n      owner: userData.username,\n      chatroom_id: currentRoom.chatroom_id\n    };\n    stompClient.send('/app/addPost', {}, JSON.stringify(post));\n    setMessage('');\n  };\n\n  /**\r\n   * KOD HTML'A\r\n   */\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"left\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"containerGreen\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Znajomi\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: friends.map(friend => /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              class: \"user-id\",\n              children: friend.user_id\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 251,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 252,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              class: \"nick\",\n              children: friend.nick\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 253,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"delete-button\",\n              onClick: () => deleteFriend(friend.user_id),\n              children: \"usu\\u0144\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 254,\n              columnNumber: 13\n            }, this)]\n          }, friend.user_id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 11\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: addFriend,\n          children: \"Dodaj znajomego\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"center\",\n      children: content === \"chatroom\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n        children: currentRoom ?\n        /*#__PURE__*/\n        //Chatroom\n        _jsxDEV(\"div\", {\n          class: \"chat-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            class: \"room-name\",\n            children: currentRoom.nazwa\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 3\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"scrollCenter\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"friend-list-container\",\n              children: /*#__PURE__*/_jsxDEV(\"ul\", {\n                class: \"friend-list\",\n                children: currentRoom.id_relacji.map(friend => /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: friend.user2_id\n                }, friend.relacja, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 276,\n                  columnNumber: 9\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 274,\n                columnNumber: 5\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 273,\n              columnNumber: 3\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"message-list-container\",\n              children: /*#__PURE__*/_jsxDEV(\"ul\", {\n                class: \"message-list\",\n                children: posts.map((post, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    class: \"message-info\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      class: \"message-owner\",\n                      children: [post.owner, \" -\", /*#__PURE__*/_jsxDEV(\"span\", {\n                        id: \"postNickStyle\",\n                        children: [\" \", post.nick]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 286,\n                        columnNumber: 13\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 285,\n                      columnNumber: 13\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      class: \"message-date\",\n                      children: post.date\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 287,\n                      columnNumber: 13\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 284,\n                    columnNumber: 11\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    class: \"message-content\",\n                    children: post.message\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 289,\n                    columnNumber: 11\n                  }, this)]\n                }, index, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 283,\n                  columnNumber: 9\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 281,\n                columnNumber: 5\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 280,\n              columnNumber: 3\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 3\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"input-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n              class: \"message-input\",\n              placeholder: \"Dodaj post\",\n              required: \"required\",\n              pattern: \"[A-Za-z0-9]{1,20}\",\n              value: message,\n              onChange: e => setMessage(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 296,\n              columnNumber: 5\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              class: \"add-post-button\",\n              onClick: addPost,\n              children: \"Dodaj post\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 304,\n              columnNumber: 5\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 295,\n            columnNumber: 3\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 1\n        }, this) :\n        /*#__PURE__*/\n        //wybieranie pokoju \n        _jsxDEV(\"p\", {\n          children: \"Wybierz pok\\xF3j\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 314,\n          columnNumber: 12\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 37\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        children: content === \"dodajZnajomego\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"add-friend-container\",\n          children: /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handleAddFriend,\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: [\"Email:\", /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                value: email,\n                onChange: handleEmailChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 322,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 320,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 324,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              class: \"add-friend-button\",\n              children: \"Dodaj Znajomego\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 325,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 319,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 318,\n          columnNumber: 11\n        }, this) : content === \"dodajChatroom\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handleAddChatroom,\n            class: \"chat-form\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: [\"nazwa chatroom'u:\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 333,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                onChange: setChatRoomName2\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 334,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 331,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 336,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"friend-list-container\",\n              children: friends.map(item => /*#__PURE__*/_jsxDEV(\"label\", {\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\",\n                  value: item.user_id,\n                  checked: checkedItems.includes(item.user_id),\n                  onChange: handleChangeZnajomiCheckboxlist\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 340,\n                  columnNumber: 19\n                }, this), item.nick]\n              }, item.user_id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 339,\n                columnNumber: 17\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 337,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              class: \"add-chatroom-button\",\n              children: \"Dodaj ChatRoom\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 350,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 330,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 329,\n          columnNumber: 11\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            class: \"room-name\",\n            children: [\"Witaj  \", userData.nick, \" !\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 354,\n            columnNumber: 16\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Komunikator internetowy to aplikacja umo\\u017Cliwiaj\\u0105ca u\\u017Cytkownikom komunikacj\\u0119 w czasie rzeczywistym za pomoc\\u0105 Internetu. Projekt oparty jest na technologiach Java Spring Boot, React, WebSocket, HTTP i PostgresSQL. Celem projektu jest stworzenie platformy, kt\\xF3ra umo\\u017Cliwi u\\u017Cytkownikom swobodn\\u0105 wymian\\u0119 wiadomo\\u015Bci, prowadzenie rozm\\xF3w grupowych i zapewni bezpieczne przechowywanie danych.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 355,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 354,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 8\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"right\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Pokoje\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 364,\n        columnNumber: 10\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: rooms.map(room => /*#__PURE__*/_jsxDEV(\"li\", {\n          onClick: () => {\n            setCurrentRoom(room);\n            fetchPosts(room.chatroom_id);\n            setContent(\"chatroom\");\n          },\n          children: room.nazwa\n        }, room.chatroom_id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 367,\n          columnNumber: 14\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 365,\n        columnNumber: 10\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: addRoom,\n        children: \"Dodaj pok\\xF3j\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 372,\n        columnNumber: 10\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 363,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 243,\n    columnNumber: 5\n  }, this);\n}\n_s(ChatRoom, \"2KzlC35iIPggaqTdZ3zJmrxVVdM=\");\n_c = ChatRoom;\nexport default ChatRoom;\nvar _c;\n$RefreshReg$(_c, \"ChatRoom\");","map":{"version":3,"names":["useState","useEffect","axios","SockJS","Stomp","jsxDEV","_jsxDEV","ChatRoom","props","_s","friends","setFriends","rooms","setRooms","currentRoom","setCurrentRoom","content","setContent","email","setEmail","message","setMessage","posts","setPosts","ChatRoomName","setChatRoomName","checkedItems","setCheckedItems","stompClient","setStompClient","userData","setUserData","username","nick","connected","get","concat","then","response","data","catch","error","console","log","handleEmailChange","event","target","value","getRooms","getFriends","addFriend","handleAddFriend","user1_id_user_id","user2_id_user_id","preventDefault","post","headers","alert","handleChangeZnajomiCheckboxlist","isChecked","checked","itemId","prevItems","filter","id","setChatRoomName2","deleteFriend","user_id","delete","handleAddChatroom","nazwa","user","id_relacji","addRoom","socket","client","over","connect","disconnect","subscription","subscribe","receivedPost","JSON","parse","body","prevPosts","unsubscribe","fetchPosts","chatroom_id_1","chatroom_id","addPost","date","Date","owner","send","stringify","children","class","fileName","_jsxFileName","lineNumber","columnNumber","map","friend","className","onClick","user2_id","relacja","index","placeholder","required","pattern","onChange","e","onSubmit","type","item","includes","room","_c","$RefreshReg$"],"sources":["C:/Users/bober/OneDrive/Pulpit/ZTI_Projekt/frontend/klient/src/components/ChatRoom.js"],"sourcesContent":["import { useState, useEffect  } from 'react'\r\nimport axios from 'axios';\r\nimport SockJS from 'sockjs-client';\r\nimport Stomp from 'stompjs';\r\nimport '../style/easyStyle.css'\r\nfunction ChatRoom(props){\r\nconst [friends, setFriends] = useState([]);\r\nconst [rooms, setRooms] = useState([]);\r\nconst [currentRoom, setCurrentRoom] = useState(null);\r\nconst [content, setContent] = useState('');\r\nconst [email, setEmail] = useState('');\r\nconst [message, setMessage] = useState('');\r\nconst [posts, setPosts] = useState([]);\r\nconst [ChatRoomName, setChatRoomName] = useState('');\r\nconst [checkedItems, setCheckedItems] = useState([]);\r\nconst [stompClient, setStompClient] = useState(null);\r\nconst [userData, setUserData] = useState({\r\n  username: props.username,\r\n  nick: props.nick,\r\n  connected: false\r\n});\r\n\r\n\r\nuseEffect(() => {\r\n  axios.get('http://localhost:8080/GetFriends/'.concat(userData.username))\r\n    .then(response => {\r\n      setFriends(response.data);\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n}, []);\r\n\r\nfunction handleEmailChange(event) {\r\n  setEmail(event.target.value);\r\n}\r\n\r\n\r\n  const getRooms = async () => {\r\n    try {\r\n      const response = await axios.get('http://localhost:8080/getChatRoomsByUserId/'.concat(userData.username));\r\n\r\n      setRooms(response.data);\r\n      console.log(response.data);\r\n\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    getFriends();\r\n    getRooms();\r\n  }, []);\r\n\r\n  /**\r\n   * znajomi\r\n   */\r\n  const getFriends = async () => {\r\n    try {\r\n      \r\n      const response = await axios.get('http://localhost:8080/GetFriends/'.concat(userData.username));\r\n      setFriends(response.data);\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n  const addFriend = async () => {\r\n    try {\r\n        setContent('dodajZnajomego');\r\n  \r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n function handleAddFriend(event) {\r\n    const user1_id_user_id = userData.username;\r\n    const user2_id_user_id = email;\r\n    event.preventDefault();\r\n    axios.post('http://localhost:8080/AddFriend', user1_id_user_id+\";\"+user2_id_user_id\r\n    , {\r\n      headers: {\r\n        'Content-Type': 'text/plain'\r\n      }\r\n    })  \r\n      .then(response => {\r\n        console.log(response.data);\r\n        setEmail('');\r\n        console.log(response.data);\r\n        setFriends(response.data);\r\n        alert(\"dodano pomyślnie\")\r\n      })\r\n      .catch(error => {\r\n       alert(\"nie udało się dodać znajomego\");\r\n        console.log(error);\r\n      });\r\n  }\r\n\r\n  const handleChangeZnajomiCheckboxlist = (event) => {\r\n    const isChecked = event.target.checked;\r\n    const itemId = event.target.value;\r\n\r\n    if (isChecked) {\r\n      setCheckedItems((prevItems) => [...prevItems, itemId]);\r\n    } else {\r\n      setCheckedItems((prevItems) => prevItems.filter((id) => id !== itemId));\r\n    }\r\n  };\r\n  const setChatRoomName2 = (event) =>{\r\n    const value = event.target.value;\r\n    setChatRoomName(value);\r\n  }\r\n\r\n  \r\nfunction deleteFriend(user_id) {\r\n  const user1_id_user_id = userData.username;\r\n    const user2_id_user_id = user_id;\r\n  axios.delete('/DeleteFriend', user1_id_user_id+\";\"+user2_id_user_id\r\n  , {\r\n    headers: {\r\n      'Content-Type': 'text/plain'\r\n    }\r\n  })  \r\n    .then(response => {\r\n      setFriends(response);\r\n    })\r\n    .catch(error => {\r\n      // Obsługa błędu\r\n      console.error('Wystąpił błąd podczas usuwania znajomego:', error);\r\n    });\r\n}\r\n\r\n  /**\r\n   * \r\n   * CHatroomy\r\n   * @param {*} event \r\n   */\r\n  const handleAddChatroom = async (event) => {\r\n\r\n    event.preventDefault();\r\n\r\n    console.log({\r\n      nazwa:ChatRoomName,\r\n      user: userData.username,\r\n      id_relacji: checkedItems,\r\n      });\r\n    try {\r\n      const response = await axios.post('http://localhost:8080/AddChatroom', {\r\n      nazwa:ChatRoomName,\r\n      user: userData.username,\r\n      id_relacji: checkedItems,\r\n      });\r\n      console.log('Response:', response.data);\r\n     // setChatRoomName(response.data);\r\n      alert(\"dodano pomyślnie\");\r\n      getRooms();\r\n      \r\n    } catch (error) {\r\n      console.error('Error:', error);\r\n      alert(\"wystąpił nieoczekiwany błąd\");\r\n    }\r\n  };\r\n  const addRoom = async () =>{\r\n    setContent('dodajChatroom');\r\n  }\r\n/**\r\n * POSTY\r\n * \r\n */\r\n\r\n\r\n\r\nuseEffect(() => {\r\n  const socket = new SockJS('http://localhost:8080/ws');\r\n  const client = Stomp.over(socket);\r\n  client.connect({}, () => {\r\n    setStompClient(client);\r\n  });\r\n\r\n  return () => {\r\n    if (stompClient) {\r\n      stompClient.disconnect();\r\n    }\r\n  };\r\n}, []);\r\n\r\nuseEffect(() => {\r\n  if (!stompClient) return;\r\n\r\n  const subscription = stompClient.subscribe('/topic/posts', (message) => {\r\n    const receivedPost = JSON.parse(message.body);\r\n    setPosts((prevPosts) => [...prevPosts, receivedPost]);\r\n  });\r\n\r\n  return () => {\r\n    subscription.unsubscribe();\r\n  };\r\n}, [stompClient]);\r\n\r\n\r\nconst fetchPosts = async (chatroom_id_1) => {\r\n  try {\r\n    const response = await axios.get('http://localhost:8080/getPostsByChatroomID/'.concat(chatroom_id_1));\r\n    setPosts(response.data);\r\n  } catch (error) {\r\n    console.error('Error fetching posts:', error);\r\n  }\r\n};\r\n  useEffect(() => {\r\n    // Fetch initial posts from the backend\r\n    const fetchPosts = async () => {\r\n      try {\r\n        const response = await axios.get('http://localhost:8080/getPostsByChatroomID/'.concat(currentRoom.chatroom_id));\r\n        setPosts(response.data);\r\n      } catch (error) {\r\n        console.error('Error fetching posts:', error);\r\n      }\r\n    };\r\n\r\n    fetchPosts();\r\n  }, []);\r\n\r\n  const addPost = () => {\r\n    const post = {\r\n      message: message,\r\n      date: new Date(),\r\n      owner: userData.username, \r\n      chatroom_id: currentRoom.chatroom_id, \r\n    };\r\n \r\n    stompClient.send('/app/addPost', {}, JSON.stringify(post));\r\n    \r\n    setMessage('');\r\n  };\r\n\r\n  \r\n\r\n  /**\r\n   * KOD HTML'A\r\n   */\r\n\r\n  return (\r\n    <div id=\"container\">\r\n  \r\n      <div id=\"left\">\r\n        <div class=\"containerGreen\">\r\n      <h2>Znajomi</h2>\r\n      <ul>\r\n        {friends.map((friend) => (\r\n          <li key={friend.user_id}>\r\n            <span class=\"user-id\">{friend.user_id}</span>\r\n            <br/>\r\n            <span class=\"nick\">{friend.nick}</span>\r\n            <button  className=\"delete-button\" onClick={() => deleteFriend(friend.user_id)}>usuń</button>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n      <button onClick={addFriend}>Dodaj znajomego</button>\r\n      </div>\r\n    </div>\r\n\r\n\r\n\r\n       <div id ='center'>\r\n        {content === \"chatroom\" ? ( <div>\r\n         {currentRoom ? (\r\n//Chatroom\r\n\r\n\r\n<div class=\"chat-container\">\r\n  <h2 class=\"room-name\">{currentRoom.nazwa}</h2>\r\n  <div class='scrollCenter'>\r\n  <div class=\"friend-list-container\">\r\n    <ul class=\"friend-list\">\r\n      {currentRoom.id_relacji.map((friend) => (\r\n        <li key={friend.relacja}>{friend.user2_id}</li>\r\n      ))}\r\n    </ul>\r\n  </div>\r\n  <div class=\"message-list-container\">\r\n    <ul class=\"message-list\">\r\n      {posts.map((post, index) => (\r\n        <li key={index} >\r\n          <div class=\"message-info\">\r\n            <div class=\"message-owner\">{post.owner} -\r\n            <span id=\"postNickStyle\"> {post.nick}</span></div>\r\n            <div class=\"message-date\">{post.date}</div>\r\n          </div>\r\n          <div class=\"message-content\">{post.message}</div>\r\n        </li>\r\n      ))}\r\n    </ul>\r\n  </div>\r\n  </div>\r\n  <div class=\"input-container\">\r\n    <textarea\r\n      class=\"message-input\"\r\n      placeholder=\"Dodaj post\"\r\n      required=\"required\"\r\n      pattern=\"[A-Za-z0-9]{1,20}\"\r\n      value={message}\r\n      onChange={(e) => setMessage(e.target.value)}\r\n    />\r\n    <button class=\"add-post-button\" onClick={addPost}>Dodaj post</button>\r\n  </div>\r\n</div>\r\n\r\n\r\n\r\n\r\n         ) : \r\n         //wybieranie pokoju \r\n         (\r\n           <p>Wybierz pokój</p>\r\n         )}\r\n         </div> ): \r\n         (<div>{content === \"dodajZnajomego\"?(\r\n          <div class=\"add-friend-container\">\r\n          <form onSubmit={handleAddFriend}>\r\n            <label>\r\n              Email:\r\n              <input type=\"text\" value={email} onChange={handleEmailChange} />\r\n            </label>\r\n            <br />\r\n            <button type=\"submit\" class=\"add-friend-button\">Dodaj Znajomego</button>\r\n          </form>\r\n        </div>)\r\n         : content===\"dodajChatroom\"?\r\n          <div>\r\n            <form onSubmit={handleAddChatroom} class=\"chat-form\">\r\n            <label>\r\n              nazwa chatroom'u:\r\n              <br/>\r\n              <input type=\"text\" onChange={setChatRoomName2} />\r\n            </label>\r\n            <br />\r\n            <div class=\"friend-list-container\">\r\n              {friends.map((item) => (\r\n                <label key={item.user_id}>\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    value={item.user_id}\r\n                    checked={checkedItems.includes(item.user_id)}\r\n                    onChange={handleChangeZnajomiCheckboxlist}\r\n                  />\r\n                  {item.nick}\r\n                </label>\r\n              ))}\r\n            </div>\r\n            <button type=\"submit\" class=\"add-chatroom-button\">Dodaj ChatRoom</button>\r\n          </form>\r\n\r\n         </div>\r\n         :<div><h2 class=\"room-name\">Witaj  {userData.nick} !</h2>\r\n          <p>Komunikator internetowy to aplikacja umożliwiająca użytkownikom komunikację w czasie rzeczywistym za pomocą Internetu.\r\n             Projekt oparty jest na technologiach Java Spring Boot, React, WebSocket, HTTP i PostgresSQL. \r\n            Celem projektu jest stworzenie platformy, która umożliwi użytkownikom swobodną wymianę wiadomości,\r\n             prowadzenie rozmów grupowych i zapewni bezpieczne przechowywanie danych.</p>\r\n         </div>}\r\n        </div>)\r\n}\r\n       </div>\r\n    <div id='right'>\r\n         <h2>Pokoje</h2>\r\n         <ul>\r\n           {rooms.map((room) => (\r\n             <li key={room.chatroom_id} onClick={() => {setCurrentRoom(room) ; fetchPosts(room.chatroom_id); setContent(\"chatroom\"); } }>\r\n               {room.nazwa}\r\n             </li>\r\n           ))}\r\n         </ul>\r\n         <button onClick={addRoom}>Dodaj pokój</button>\r\n       </div>\r\n</div>\r\n   );         \r\n}\r\nexport default ChatRoom;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}